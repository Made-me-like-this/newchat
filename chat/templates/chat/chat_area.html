{% extends "chat/base.html" %}

{% load static %}

{% block title %}Chat Area{% endblock %}

{% block content %}
<div class="chat-container">
    <div class="chat-header">
        <h2>Chat Room</h2>
        <button class="leave-btn" onclick="window.location.href='{% url 'chat:chat_list' %}'">Leave</button>
    </div>

    <div class="chat-messages" id="chat-messages">
        <!-- Messages will be dynamically loaded here -->
    </div>

    <form id="chat-form" class="chat-form" method="post" action="">
        {% csrf_token %}
        <input type="text" id="message-input" name="message" placeholder="Type your message..." required>
        <button type="submit" class="send-btn">Send</button>
    </form>
</div>
<script src="{% static 'js/chat.js' %}"></script>
<script>
    // Scroll to the bottom of the chat messages container
    const chatMessages = document.getElementById('chat-messages');
    chatMessages.scrollTop = chatMessages.scrollHeight;
</script>
{% endblock %}
